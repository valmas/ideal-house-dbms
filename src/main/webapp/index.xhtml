<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/templates/super.xhtml">

	<ui:define name="menu">
		<ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li class="selected"><h:commandLink action="#{homeBean.init}" value="Clients"/></li>
          <li><h:commandLink action="#{employeeBean.init}" value="Employees"/></li>
          <li><h:commandLink action="#{propertyBean.init}" value="Properties"/></li>
          <li><h:commandLink action="#{bOwnersBean.init}" value="Owners"/></li>
          <li><h:commandLink action="#{clientBean.init}" value="Clients"/></li>
          <li><h:commandLink action="#{newspaperBean.init}" value="Advertisements"/></li>
        </ul>
	</ui:define>
	<ui:define name="content">
		<rich:panel id="mw_results_panel" header="Most wanted properties"> 
		
			<h:panelGroup rendered="#{homeBean.mostWanted != null }">
				<rich:dataScroller for="most_wanted_table" rendered="#{homeBean.mostWanted.size() &gt; 10}"/>
				<rich:dataTable id="most_wanted_table" value="#{homeBean.mostWanted}" 
					var="result" rows="10" style="white-space:nowrap; width:100%;">
					<rich:column id="contracts_num" >
						<f:facet name="header">Number of contracts</f:facet>
						<h:outputText value="#{result.contracts_num}" />
					</rich:column>
					
					<rich:column id="mw_streetName" >
						<f:facet name="header">Street Name</f:facet>
						<h:outputText value="#{result.streetName}" />
					</rich:column>
					
					<rich:column id="mw_streetNo">
						<f:facet name="header">Street No</f:facet>
						<h:outputText value="#{result.streetNo}" />
					</rich:column>
					
					<rich:column id="mw_postalCode">
						<f:facet name="header">Postal code</f:facet>
						<h:outputText value="#{result.postalCode}" />
					</rich:column>
					
					<rich:column id="mw_size" >
						<f:facet name="header">Size</f:facet>
						<h:outputText value="#{result.size}" />
					</rich:column>
					
					<rich:column id="mw_floor" >
						<f:facet name="header">Floor</f:facet>
						<h:outputText value="#{result.floor}" />
					</rich:column>
					
					<rich:column id="mw_rent" >
						<f:facet name="header">Rent</f:facet>
						<h:outputText value="#{result.rent}" />
					</rich:column>
					
					<rich:column id="mw_Rooms" >
						<f:facet name="header">Rooms</f:facet>
						<h:outputText value="#{result.rooms}" />
					</rich:column>
					
					<rich:column id="mw_Description">
						<f:facet name="header">Description</f:facet>
						<h:outputText value="#{result.description}" />
					</rich:column>
					
					<rich:column id="mw_status">
						<f:facet name="header">Status</f:facet>
						<h:outputText value="#{result.status}" />
					</rich:column>
					
				</rich:dataTable>
			</h:panelGroup>
		</rich:panel>
		
		<rich:panel header="Best Clients (with total rent more than the average)"> 
			<h:panelGroup rendered="#{homeBean.bestClients != null }">
				<rich:dataScroller for="bestClients_table" rendered="#{homeBean.bestClients.size() &gt; 10}"/>
				<rich:dataTable id="bestClients_table" value="#{homeBean.bestClients}" 
					var="result" rows="10" style="white-space:nowrap; width:100%;">
					<rich:column id="bc_first_name" >
						<f:facet name="header">First Name</f:facet>
						<h:outputText value="#{result.firstName}" />
					</rich:column>
					
					<rich:column id="bc_last_name">
						<f:facet name="header">Last Name</f:facet>
						<h:outputText value="#{result.lastName}" />
					</rich:column>
					
					<rich:column id="bc_total_rent">
						<f:facet name="header">Total Rent</f:facet>
						<h:outputText value="#{result.rent}" />
					</rich:column>
					
				</rich:dataTable>
			</h:panelGroup>
		</rich:panel>
		
		<rich:panel header="Employees Statistics"> 
			<h:panelGrid columns="2">
				<h:outputText value="Highest Salary:" style="font-weight: bold;"/>
				<h:outputText value="#{homeBean.highSal}" />
				
				<h:outputText value="Lowest Salary:" style="font-weight: bold;"/>
				<h:outputText value="#{homeBean.lowSal}" />
				
				<h:outputText value="Average Salary:" style="font-weight: bold;"/>
				<h:outputText value="#{homeBean.avgSal}" />
				
			</h:panelGrid>
		</rich:panel>
	</ui:define>
</ui:composition>
</html>